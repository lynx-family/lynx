# Automatically generated by gn_to_cmake_script.py
# Please modify configs of compilation in //tools/gn_tools/test/BUILD.gn

# Set the minimum version of CMAKE that is required
cmake_minimum_required(VERSION 3.4.1)



enable_language(ASM)

set(action_target 
  tools__gn_tools__test_gn_test_action
  )

set(${action_target}__sources 
  
  )

set(${action_target}__output 
  ${ROOT_PATH}/out/gn_test/gen/tools/gn_tools/test/action.txt
  )

add_custom_command(OUTPUT ${${action_target}__output}
  COMMAND ${CMAKE_COMMAND} -E make_directory "${ROOT_PATH}/out/gn_test/gen/tools/gn_tools/test"
  COMMAND python3 "${ROOT_PATH}/lynx/tools/gn_tools/test/gn_test_action.py"
  DEPENDS  ${${action_target}__sources}
  WORKING_DIRECTORY "${ROOT_PATH}/out/gn_test/"
  COMMENT "Action: ${action_target}"
  VERBATIM)
add_custom_target(${action_target} SOURCES ${${action_target}__sources} DEPENDS ${${action_target}__output})


add_library(tools__gn_tools__test_gn_test_shared SHARED EXCLUDE_FROM_ALL
  ${ROOT_PATH}/tools/gn_tools/test/gn_test_shared.cc
  ${ROOT_PATH}/tools/gn_tools/test/gn_test_shared.h
  )

target_compile_definitions(tools__gn_tools__test_gn_test_shared PRIVATE
  GN_TESTING_DEFINE=1
  USE_OPENSSL=1
  _FILE_OFFSET_BITS=64
  _LARGEFILE_SOURCE
  _LARGEFILE64_SOURCE
  __STDC_CONSTANT_MACROS
  __STDC_FORMAT_MACROS
  _LIBCPP_DISABLE_VISIBILITY_ANNOTATIONS
  _LIBCPP_ENABLE_THREAD_SAFETY_ANNOTATIONS
  _DEBUG
  _GLIBCXX_DEBUG=1
  )

target_include_directories(tools__gn_tools__test_gn_test_shared PRIVATE
  ${ROOT_PATH}/tools/gn_tools/test/
  ${ROOT_PATH}/
  ${ROOT_PATH}/out/gn_test/gen/
  )

target_compile_options(tools__gn_tools__test_gn_test_shared PRIVATE
  $<$<COMPILE_LANGUAGE:ASM>:-fno-strict-aliasing -fstack-protector --param=ssp-buffer-size=4 -m64 -march=x86-64 -fPIC -pipe -pthread -fcolor-diagnostics >
  )

target_compile_options(tools__gn_tools__test_gn_test_shared PRIVATE
  $<$<COMPILE_LANGUAGE:C>:-fvisibility=hidden -fvisibility-inlines-hidden -fno-strict-aliasing -fstack-protector --param=ssp-buffer-size=4 -m64 -march=x86-64 -fPIC -pipe -pthread -fcolor-diagnostics -Wall -Wextra -Wendif-labels -Werror -Wno-missing-field-initializers -Wno-unused-parameter -Wno-vla-extension -Wno-unused-but-set-parameter -Wno-unused-but-set-variable -Wno-implicit-int-float-conversion -Wno-c99-designator -Wno-deprecated-copy -Wno-psabi -Wno-deprecated-non-prototype -Wno-enum-constexpr-conversion -Wno-unqualified-std-cast-call -Wno-non-c-typedef-for-linkage -Wno-range-loop-construct -fvisibility=hidden -Wstring-conversion -Wnewline-eof -O0 -g2 >
  )

target_compile_options(tools__gn_tools__test_gn_test_shared PRIVATE
  $<$<COMPILE_LANGUAGE:CXX>:-fvisibility=hidden -fvisibility-inlines-hidden -fno-strict-aliasing -fstack-protector --param=ssp-buffer-size=4 -m64 -march=x86-64 -fPIC -pipe -pthread -fcolor-diagnostics -Wall -Wextra -Wendif-labels -Werror -Wno-missing-field-initializers -Wno-unused-parameter -Wno-vla-extension -Wno-unused-but-set-parameter -Wno-unused-but-set-variable -Wno-implicit-int-float-conversion -Wno-c99-designator -Wno-deprecated-copy -Wno-psabi -Wno-deprecated-non-prototype -Wno-enum-constexpr-conversion -Wno-unqualified-std-cast-call -Wno-non-c-typedef-for-linkage -Wno-range-loop-construct -fvisibility=hidden -Wstring-conversion -Wnewline-eof -O0 -g2 -fvisibility-inlines-hidden -std=c++17 -fno-rtti -stdlib=libstdc++ >
  )

add_library(tools__gn_tools__test_gn_test_source OBJECT EXCLUDE_FROM_ALL
  ${ROOT_PATH}/tools/gn_tools/test/gn_test_source.cc
  ${ROOT_PATH}/tools/gn_tools/test/gn_test_source.h
  )

target_compile_definitions(tools__gn_tools__test_gn_test_source PRIVATE
  USE_OPENSSL=1
  _FILE_OFFSET_BITS=64
  _LARGEFILE_SOURCE
  _LARGEFILE64_SOURCE
  __STDC_CONSTANT_MACROS
  __STDC_FORMAT_MACROS
  _LIBCPP_DISABLE_VISIBILITY_ANNOTATIONS
  _LIBCPP_ENABLE_THREAD_SAFETY_ANNOTATIONS
  _DEBUG
  _GLIBCXX_DEBUG=1
  )

target_include_directories(tools__gn_tools__test_gn_test_source PRIVATE
  ${ROOT_PATH}/tools/gn_tools/test/
  ${ROOT_PATH}/
  ${ROOT_PATH}/out/gn_test/gen/
  )

target_compile_options(tools__gn_tools__test_gn_test_source PRIVATE
  $<$<COMPILE_LANGUAGE:ASM>:-fno-strict-aliasing -fstack-protector --param=ssp-buffer-size=4 -m64 -march=x86-64 -fPIC -pipe -pthread -fcolor-diagnostics >
  )

target_compile_options(tools__gn_tools__test_gn_test_source PRIVATE
  $<$<COMPILE_LANGUAGE:C>:-fno-strict-aliasing -fstack-protector --param=ssp-buffer-size=4 -m64 -march=x86-64 -fPIC -pipe -pthread -fcolor-diagnostics -Wall -Wextra -Wendif-labels -Werror -Wno-missing-field-initializers -Wno-unused-parameter -Wno-vla-extension -Wno-unused-but-set-parameter -Wno-unused-but-set-variable -Wno-implicit-int-float-conversion -Wno-c99-designator -Wno-deprecated-copy -Wno-psabi -Wno-deprecated-non-prototype -Wno-enum-constexpr-conversion -Wno-unqualified-std-cast-call -Wno-non-c-typedef-for-linkage -Wno-range-loop-construct -fvisibility=hidden -Wstring-conversion -Wnewline-eof -O0 -g2 >
  )

target_compile_options(tools__gn_tools__test_gn_test_source PRIVATE
  $<$<COMPILE_LANGUAGE:CXX>:-fno-strict-aliasing -fstack-protector --param=ssp-buffer-size=4 -m64 -march=x86-64 -fPIC -pipe -pthread -fcolor-diagnostics -Wall -Wextra -Wendif-labels -Werror -Wno-missing-field-initializers -Wno-unused-parameter -Wno-vla-extension -Wno-unused-but-set-parameter -Wno-unused-but-set-variable -Wno-implicit-int-float-conversion -Wno-c99-designator -Wno-deprecated-copy -Wno-psabi -Wno-deprecated-non-prototype -Wno-enum-constexpr-conversion -Wno-unqualified-std-cast-call -Wno-non-c-typedef-for-linkage -Wno-range-loop-construct -fvisibility=hidden -Wstring-conversion -Wnewline-eof -O0 -g2 -fvisibility-inlines-hidden -std=c++17 -fno-rtti -stdlib=libstdc++ >
  )


# Main target
add_library(gn_test SHARED
  
  $<TARGET_OBJECTS:tools__gn_tools__test_gn_test_shared>
  
  $<TARGET_OBJECTS:tools__gn_tools__test_gn_test_source>
  )

add_dependencies(gn_test 
  tools__gn_tools__test_gn_test_action
  )

set(tools__gn_tools__test_gn_test_sub_shared_search_path 
  ${CMAKE_LIBRARY_OUTPUT_DIRECTORY}
  )

string(REPLACE 
${ROOT_PATH}/tools/gn_tools/test 
${ROOT_PATH}/tools/gn_tools/test 
tools__gn_tools__test_gn_test_sub_shared_search_path 
${tools__gn_tools__test_gn_test_sub_shared_search_path}) 

target_link_directories(gn_test PUBLIC  
  ${tools__gn_tools__test_gn_test_sub_shared_search_path}
  )


# subdirectory
add_subdirectory(${ROOT_PATH}/tools/gn_tools/test 
  gn_test_cmake
  )

target_link_libraries(gn_test
  android
  dl
  gcc
  gn_test_sub
  jnigraphics
  log
  )

# Compiler and Linker flags
set(CMAKE_SHARED_LINKER_FLAGS "${CMAKE_SHARED_LINKER_FLAGS} -Wl,--exclude-libs,ALL,--gc-sections -Wl,--fatal-warnings -m64 -fPIC -Wl,-z,noexecstack -Wl,-z,now -Wl,-z,relro -Wl,-z,defs -pthread -Wl,--undefined-version -stdlib=libstdc++ ")

